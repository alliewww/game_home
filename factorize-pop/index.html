<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>prime factor</title>
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#E6D2CC" />
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4SN9ZMZ7R0"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-4SN9ZMZ7R0');
    </script>
  <script type="module" crossorigin src="./assets/index-AYDkFSOQ.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/index-BlgpnFos.css">
</head>

<body>
    <div class="wrapper">
        <div class="game-title">
            <h1>Factorize POP</h1>
            <h4>
                <span class="title-zh" lang="zh">總而言之、質因數分解</span>
                <span class="title-ja" lang="ja">とにかく、素因数分解</span>
                <span class="title-en" lang="en">Just Prime Factorize!</span>
            </h4>
        </div>
        <button id="start-btn">START</button>
        <div class="info-btn-group">
            <button class="info-open-btn" data-l="zh">遊戲說明</button>
            <button class="info-open-btn" data-l="ja">遊び方</button>
            <button class="info-open-btn" data-l="en">HOW TO</button>
        </div>
        <div id="best-score-display">MAX：<span id="best-score">0</span></div>
        <!-- 工具列：返回與震動開關 -->
        <div class="option-row">
            <a id="home-btn-top" class="icon-btn" href="../index.html">
                <img style="height:62%;" src="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3ehouse%3c/title%3e%3cpath%20d='M0%2016h4l12-13.696%2012%2013.696h4l-13.984-16h-4zM4%2032h8v-9.984q0-0.832%200.576-1.408t1.44-0.608h4q0.8%200%201.408%200.608t0.576%201.408v9.984h8v-13.408l-12-13.248-12%2013.248v13.408zM26.016%206.112l4%204.576v-8.672h-4v4.096z'%3e%3c/path%3e%3c/svg%3e" alt="返回首頁" />
            </a>
            <input type="checkbox" id="vib-toggle" class="hidden-checkbox">
            <label for="vib-toggle" id="vibration-btn" class="vib-label icon-btn">
                <img src="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2%206L3.06051%207.11942C3.58133%207.66918%203.56352%208.53546%203.02055%209.06335L3%209.08333C2.45233%209.61579%202.45233%2010.4953%203%2011.0278V11.0278C3.54767%2011.5602%203.54767%2012.4398%203%2012.9722V12.9722C2.45233%2013.5047%202.45233%2014.3842%203%2014.9167L3.02055%2014.9366C3.56351%2015.4645%203.58132%2016.3308%203.0605%2016.8806L2%2018M22%206L20.9395%207.11942C20.4187%207.66918%2020.4365%208.53546%2020.9794%209.06335L21%209.08333C21.5477%209.61579%2021.5477%2010.4953%2021%2011.0278V11.0278C20.4523%2011.5602%2020.4523%2012.4398%2021%2012.9722V12.9722C21.5477%2013.5047%2021.5477%2014.3842%2021%2014.9167L20.9795%2014.9366C20.4365%2015.4645%2020.4187%2016.3308%2020.9395%2016.8806L22%2018M7%205L7%2019C7%2020.1046%207.89543%2021%209%2021H15C16.1046%2021%2017%2020.1046%2017%2019V5C17%203.89543%2016.1046%203%2015%203L9%203C7.89543%203%207%203.89543%207%205Z'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e" alt="震動開關" />
            </label>
        </div>
    </div>

    <!-- 結算畫面 -->
    <div id="result-screen" class="hidden">
        <div class="result-box">
            <h2>Time's up!</h2>
            <p>Success：<span id="success-count">0</span></p>
            <p>Max Combo：<span id="max-combo">0</span></p>
            <p>Fail：<span id="fail-count">0</span></p>
            <p>Score：<span id="final-score">0</span></p>
            <button id="home-btn">Return</button>
        </div>
    </div>

    <!-- 遊戲說明畫面 -->
    <div id="info-screen" class="hidden">
        <div class="info-box result-box">

            <!-- 保留多語內容，由首頁按鈕控制顯示語言 -->

            <div class="info-lang lang-zh active">
                <h2>遊戲說明</h2>
                <ul>
                    <li><strong>什麼是質數？</strong> 只能被 1 和自己整除的正整數，又稱為「質數」。</li>
                    <li>將一個整數表示為若干質數相乘，稱為質因數分解。</li>
                    <li>在時間內，點擊下方質數按鈕，分解紅球上的數字吧！</li>
                    <li>成功分解可得分並增加連擊，集滿能量可獲得額外時間！</li>
                    <li>時間用盡將結束遊戲。</li>
                </ul>
            </div>

            <div class="info-lang lang-ja">
                <h2>遊び方</h2>
                <ul>
                    <li><strong>素数とは？</strong> 1と自分自身でしか割り切れない正の整数で、「素数」とも呼ばれます。</li>
                    <li>整数をいくつかの素数の積で表すことを質因数分解といいます。</li>
                    <li>時間内に下の素数ボタンをタップして、赤いボールの数字を分解しよう。</li>
                    <li>成功すると得点とコンボが増え、エネルギーがたまると追加時間がもらえます。</li>
                    <li>時間切れでゲーム終了。</li>
                </ul>
            </div>

            <div class="info-lang lang-en">
                <h2>HOW TO</h2>
                <ul>
                    <li><strong>What is a prime number?</strong><br />A positive integer divisible only by 1 and itself,
                        also called a prime number.</li>
                    <li>Expressing an integer as a product of primes is called prime factorization.</li>
                    <li>Within the time limit, click the prime buttons to factorize the number on the red ball!</li>
                    <li>Success earns points and combos. Fill the energy bar to gain extra time!</li>
                    <li>Time's up! The game is over.</li>
                </ul>
            </div>
            <button id="info-close-btn">OK</button>
        </div>
    </div>

    <div id="game-screen" class="hidden">
        <div class="game-container">
            <!-- 計分板與倒數條 -->
            <div id="score-board">Score: <span id="score">0</span></div>
            <div id="time-bar">
                <div id="time-fill"></div>
                <!-- <svg id="time-svg" width="220" height="220" viewBox="-2 -2 204 204">
                    <path id="time-bg" d="M100,0 A100,100 0 1,1 100,200 M100,200 A100,100 0 1,1 100,0"
                        stroke="var(--color3)" stroke-width="4" fill="none" />
                    <path id="time-fill" d="M100,0 A100,100 0 1,1 100,200 M100,200 A100,100 0 1,1 100,0" 
                        stroke="var(--color4)" stroke-width="4" fill="none" stroke-dasharray="200"
                        stroke-dashoffset="200" />
                </svg> -->
                <span id="time-text">30s</span>
            </div>

            <!-- 連打能量條 -->
            <div id="combo-bar">
                <div id="combo-fill"></div>
                <span id="combo-text"><span id="combo-count">0</span>/7</span>
            </div>

            <div class="ball" id="target-number">0</div>

            <div class="btn-grid">
                <button class="prime-btn" data-value="2">2</button>
                <button class="prime-btn" data-value="3">3</button>
                <button class="prime-btn" data-value="5">5</button>
                <button class="prime-btn" data-value="7">7</button>
                <button class="prime-btn" data-value="11">11</button>
                <button class="prime-btn" data-value="13">13</button>
            </div>
        </div>
    </div>

    <!-- 版本標籤，所有畫面固定顯示 -->
    <div id="version-label" class="version-label">v</div>
    <!-- 版權信息 -->
    <footer id="copyright" class="copyright">game.allie.tw © 2025 Allie. All rights reserved.</footer>
</body>

</html>